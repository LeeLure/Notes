# 图书管理表格逻辑控制

## 库存数量

### 业务逻辑

- 点击表格中的 库存数量 后在当前页签打开 库存情况弹窗 页面，并根据当前点击行的 data_id 进行数据过滤，只展示符合条件的数据。

### 图书管理表格

- 逻辑控制

	- 进入图书管理表格 的编辑页面，点击右侧的交互，在交互事件点击 +  新增，组件名称选择 图书管理表格—库存数量，事件类型为 单击，动作选择逻辑控制，点击逻辑控制进入 逻辑控制 配置页面并按照上图配置。

### 库存管理表格

- 逻辑控制

	- 进入库存管理表格 的编辑页面，点击右侧的交互，在交互事件点击 +  新增，组件名称选择 库存管理表格—库存数量，事件类型为 单击，动作选择逻辑控制，点击逻辑控制进入 逻辑控制 配置页面并按照上图配置。

## 删除

### 业务逻辑

- 根据当前行的 主键 去读取并输出其库存中已借出的书籍，并判断输出的数组长度，长度为零说明其库存没有已借出的书籍即可删除，反之则提醒用户，删除时需要删除所有表的关联数据。

### 开始

- 进入逻辑控制并点击新增。

### 服务编排—删除逻辑

- 业务逻辑

	-  

- 开始

	-  

- 变量计算—定义已借出的状态及返回结果

	-  

- 数据读取—配置读取条件并输出结果

	-  

- 变量计算—通过表达式计算输出的数组的长度并输出

	-  

- 分支判定—判断数组长度是否为0

	- 判定逻辑

		-  

	- 判定为是

		- 数据操作—删除库存表的匹配数据

			-  

		- 数据操作—删除图书管理表的匹配数据

			-  

		- 数据操作—删除借阅管理表的匹配数据

			-  

		- 数据操作—删除我的书架表的匹配数据

			-  

		- 变量计算—修改返回结果

			-  

		- 结束—返回定义的 return_result 

			-  

	- 判定为否

		- 变量计算—修改返回结果

			-  

		- 结束—返回定义的 return_result 

### 分支判定—判定 return_result 的结果

- 判定条件

	-  

- 判定为是

	- 通知提示—提示用户操作成功

		-  

- 判定为否

	- 通知提示—提示用户操作失败及原因

		-  

### 刷新列表

### 结束—无需输出字段

