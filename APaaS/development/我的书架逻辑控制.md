# 我的书架逻辑控制

## 归还

### 业务逻辑

- 根据当前项的 data_id 及 parent_id 获取 借阅管理表 的 图书ID 及 图书管理表 的可借数量，并定义需要用到的变量去修改关联表的数据，提醒用户操作结果后刷新列表。

### 开始

- 进入逻辑控制并点击新增。

### 服务编排—归还逻辑

- 业务逻辑

	- 根据当前项的 data_id 及 parent_id 获取 借阅管理表 的 图书ID 及 图书管理表 的可借数量，并定义需要用到的变量去修改关联表的数据。

- 开始

	-  

- 变量计算—定义需要用到的变量

	-  

- 数据读取—读取借阅管理表的匹配项并输出图书ID

	-  

- 变量计算—通过表达式获取上步输出的图书ID

	-  

- 数据读取—读取图书管理表的匹配项并输出可借数量

	-  

- 变量计算—通过表达式获取并修改上步输出的可借数量

	-  

- 数据操作—修改我的书架表的匹配项

	-  

- 数据操作—修改借阅管理表的匹配项

	-  

- 数据操作—修改库存管理表的匹配项

	-  

- 数据操作—修改我的书架表的匹配项

	-  

- 结束—无需输出字段

### 通知提示—提示用户操作成功

-  

### 刷新列表

### 结束

## 移出书架

