1、路由中间件

1)、文件夹名称必须为 middleware ，且不可使用驼峰命名。

https://nuxt.com/docs/guide/directory-structure/middleware

2)、使用全局路由中间件

![4e16b9f91b1645c4a21d3cf4c41b9e99.png](../images/4e16b9f91b1645c4a21d3cf4c41b9e99.png)

需要区分渲染环境，不需要 SSR 或需要登录的页面可通过 import.meta.client 或在 runtimeConfig 内自定义属性来判断。

上图跳转是不直接使用 ElMessage.error 提示是因为服务端报错，故使用下述方法。

![5b77bf3ce71eb65178b49a34630cdc79.png](../images/5b77bf3ce71eb65178b49a34630cdc79.png)



